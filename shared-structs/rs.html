<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reservation Station &mdash; Coreblocks documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="https://unpkg.com/mermaid@9.4.0/dist/mermaid.min.js"></script>
        <script>mermaid.initialize({startOnLoad:true});</script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Full transaction-method graph" href="../current-graph.html" />
    <link rel="prev" title="Proposition of Reservation Station implementation" href="implementation/rs-impl.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Coreblocks documentation
            <img src="../_static/logo-banner.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../home.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assumptions.html">List of assumptions made during development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development-environment.html">Development environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scheduler/overview.html">Scheduler overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="implementation/rs-impl.html">Proposition of Reservation Station implementation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Reservation Station</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#reset-initial-state">Reset / Initial state</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#external-interface-methods">External interface methods</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#get-slot-and-mark-as-used">Get slot and mark as used</a></li>
<li class="toctree-l3"><a class="reference internal" href="#insert-new-instruction">Insert new instruction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-ready-vector">Get ready vector</a></li>
<li class="toctree-l3"><a class="reference internal" href="#read-and-clean-row">Read and clean row</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compare-and-substitute-all">Compare and substitute all</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#external-interface-signals">External interface signals</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../current-graph.html">Full transaction-method graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../problem-checklist.html">Problem checklist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../synthesis/synthesis.html">Core verification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../components/icache.html">Instruction Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../miscellany/exceptions-summary.html">Summary of papers about interrupts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Coreblocks documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Reservation Station</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/shared-structs/rs.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="reservation-station">
<h1>Reservation Station<a class="headerlink" href="#reservation-station" title="Permalink to this heading"></a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p>The reservation station is used to store instructions which wait for their operands to be ready.  When the instruction
is ready it should be woken up by wakeup logic and dispatched to the correct FU.</p>
<div class="section" id="reset-initial-state">
<h3>Reset / Initial state<a class="headerlink" href="#reset-initial-state" title="Permalink to this heading"></a></h3>
<p>In initial state all rows are marked as invalid.</p>
</div>
</div>
<div class="section" id="external-interface-methods">
<h2>External interface methods<a class="headerlink" href="#external-interface-methods" title="Permalink to this heading"></a></h2>
<div class="section" id="get-slot-and-mark-as-used">
<h3>Get slot and mark as used<a class="headerlink" href="#get-slot-and-mark-as-used" title="Permalink to this heading"></a></h3>
<p>Input:</p>
<ul class="simple">
<li><p><em>null</em></p></li>
</ul>
<p>Output:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">position</span></code> - of a free slot in RS</p></li>
</ul>
<p>Side effects:</p>
<ul class="simple">
<li><p>Slot on <code class="docutils literal notranslate"><span class="pre">position</span></code> marked as used</p></li>
</ul>
</div>
<div class="section" id="insert-new-instruction">
<h3>Insert new instruction<a class="headerlink" href="#insert-new-instruction" title="Permalink to this heading"></a></h3>
<p>Input:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">opcode</span></code> - instruction opcode for FU</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">id_rs1</span></code> - id of RF field where <code class="docutils literal notranslate"><span class="pre">src1</span></code> should be stored</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">id_rs2</span></code> - id of RF field where <code class="docutils literal notranslate"><span class="pre">src2</span></code> should be stored</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">id_out</span></code> - id of RF field where instruction output should be stored</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">id_ROB</span></code> - id of ROB entry which is allocated for this instruction</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">position</span></code> - in the RS to which we should write this entry</p></li>
</ul>
<p>Output:</p>
<ul class="simple">
<li><p><em>null</em></p></li>
</ul>
<p>Side effects:</p>
<ul class="simple">
<li><p>Save data from input to the slot in RS specified by the <code class="docutils literal notranslate"><span class="pre">position</span></code> argument</p></li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="get-ready-vector">
<h3>Get ready vector<a class="headerlink" href="#get-ready-vector" title="Permalink to this heading"></a></h3>
<p>Input:</p>
<ul class="simple">
<li><p><em>null</em></p></li>
</ul>
<p>Output:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">inst_ready</span></code> - bit vector as long as RS, where bit on <code class="docutils literal notranslate"><span class="pre">position</span></code> mean:</p>
<ul>
<li><p>0 - instruction is still waiting for arguments</p></li>
<li><p>1 - instruction is ready for execute</p></li>
</ul>
</li>
</ul>
<p>Side effects:</p>
<ul class="simple">
<li><p><em>null</em></p></li>
</ul>
</div>
<div class="section" id="read-and-clean-row">
<h3>Read and clean row<a class="headerlink" href="#read-and-clean-row" title="Permalink to this heading"></a></h3>
<p>Input:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">position</span></code> - of RS row which should be read and cleared</p></li>
</ul>
<p>Output:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">opcode</span></code> - instruction opcode for FU</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">val_rs1</span></code> - value of first operand</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">val_rs2</span></code> - value of second operand</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">id_out</span></code> - id of RF field where instruction output should be stored</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">id_ROB</span></code> - id of ROB entry which is allocated for this instruction</p></li>
</ul>
<p>Side effects:</p>
<ul class="simple">
<li><p>RS row on <code class="docutils literal notranslate"><span class="pre">position</span></code> marked as invalid</p></li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="compare-and-substitute-all">
<h3>Compare and substitute all<a class="headerlink" href="#compare-and-substitute-all" title="Permalink to this heading"></a></h3>
<p>Input:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tag</span></code> - from RF for which RS should be checked for</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">value</span></code> - value which should be written to fields of RS with matching tag</p></li>
</ul>
<p>Output:</p>
<ul class="simple">
<li><p><em>null</em></p></li>
</ul>
<p>Side effects:</p>
<ul class="simple">
<li><p>For each row of RS if in this row are fields tagged with <code class="docutils literal notranslate"><span class="pre">tag</span></code> store
<code class="docutils literal notranslate"><span class="pre">value</span></code> in these fields.</p></li>
</ul>
</div>
</div>
<div class="section" id="external-interface-signals">
<h2>External interface signals<a class="headerlink" href="#external-interface-signals" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">free</span></code>: one-bit signal indicating if there is a free slot in the RS</p></li>
</ul>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="implementation/rs-impl.html" class="btn btn-neutral float-left" title="Proposition of Reservation Station implementation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../current-graph.html" class="btn btn-neutral float-right" title="Full transaction-method graph" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Kuźnia Rdzeni, 2025.
      <span class="lastupdated">Last updated on 13:45 2025-02-21.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>