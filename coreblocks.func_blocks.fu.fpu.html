<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>coreblocks.func_blocks.fu.fpu package &mdash; Coreblocks documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="https://unpkg.com/mermaid@9.4.0/dist/mermaid.min.js"></script>
        <script>mermaid.initialize({startOnLoad:true});</script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="coreblocks.func_blocks.fu.lsu package" href="coreblocks.func_blocks.fu.lsu.html" />
    <link rel="prev" title="coreblocks.func_blocks.fu package" href="coreblocks.func_blocks.fu.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Coreblocks documentation
            <img src="_static/logo-banner.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="home.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="assumptions.html">List of assumptions made during development</a></li>
<li class="toctree-l1"><a class="reference internal" href="development-environment.html">Development environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="scheduler/overview.html">Scheduler overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="shared-structs/implementation/rs-impl.html">Proposition of Reservation Station implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="shared-structs/rs.html">Reservation Station</a></li>
<li class="toctree-l1"><a class="reference internal" href="current-graph.html">Full transaction-method graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="problem-checklist.html">Problem checklist</a></li>
<li class="toctree-l1"><a class="reference internal" href="synthesis/synthesis.html">Core verification</a></li>
<li class="toctree-l1"><a class="reference internal" href="components/icache.html">Instruction Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="miscellany/exceptions-summary.html">Summary of papers about interrupts</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Coreblocks documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="api.html">API</a> &raquo;</li>
          <li><a href="coreblocks.html">coreblocks package</a> &raquo;</li>
          <li><a href="coreblocks.func_blocks.html">coreblocks.func_blocks package</a> &raquo;</li>
          <li><a href="coreblocks.func_blocks.fu.html">coreblocks.func_blocks.fu package</a> &raquo;</li>
      <li>coreblocks.func_blocks.fu.fpu package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/coreblocks.func_blocks.fu.fpu.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="coreblocks-func-blocks-fu-fpu-package">
<h1>coreblocks.func_blocks.fu.fpu package<a class="headerlink" href="#coreblocks-func-blocks-fu-fpu-package" title="Permalink to this heading"></a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading"></a></h2>
</div>
<div class="section" id="module-coreblocks.func_blocks.fu.fpu.close_path">
<span id="coreblocks-func-blocks-fu-fpu-close-path-module"></span><h2>coreblocks.func_blocks.fu.fpu.close_path module<a class="headerlink" href="#module-coreblocks.func_blocks.fu.fpu.close_path" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.close_path.ClosePathMethodLayout">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">coreblocks.func_blocks.fu.fpu.close_path.</span></span><span class="sig-name descname"><span class="pre">ClosePathMethodLayout</span></span><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.close_path.ClosePathMethodLayout" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Close path module layouts for methods</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpu_params; FPUParams</strong></dt><dd><p>FPU parameters</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.close_path.ClosePathMethodLayout.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpu_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#coreblocks.func_blocks.fu.fpu.fpu_common.FPUParams" title="coreblocks.func_blocks.fu.fpu.fpu_common.FPUParams"><span class="pre">FPUParams</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.close_path.ClosePathMethodLayout.__init__" title="Permalink to this definition"></a></dt>
<dd><p>r_sign - sign of the result
sig_a - two’s complement form of first significand
sig_2 - two’s complement form of second significand
exp - exponent of result before shifts
rounding_mode - rounding mode
guard_bit - guard_bit (pth bit of second significand where p is precision)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.close_path.ClosePathModule">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">coreblocks.func_blocks.fu.fpu.close_path.</span></span><span class="sig-name descname"><span class="pre">ClosePathModule</span></span><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.close_path.ClosePathModule" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Elaboratable</span></code></p>
<p>Close path module
Based on <a class="reference external" href="http://i.stanford.edu/pub/cstr/reports/csl/tr/90/442/CSL-TR-90-442.pdf">http://i.stanford.edu/pub/cstr/reports/csl/tr/90/442/CSL-TR-90-442.pdf</a>.
This module computes results for efficient subtraction,
whenever difference of exponents is lesser than 2.
Besides computing the result, this implementation also performs rounding at the same time
as subtraction by using two adders (one computing a+b and the other one computing a+b+1).
The correct output is chosen based on flags that are different for each rounding mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpu_params: FPUParams</strong></dt><dd><p>FPU rounding module parameters</p>
</dd>
</dl>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>close_path_request: Method</strong></dt><dd><p>Transactional method for initiating close path computation.
Takes ‘close_path_in_layout’ as argument.
Returns result as ‘close_path_out_layout’.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.close_path.ClosePathModule.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpu_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#coreblocks.func_blocks.fu.fpu.fpu_common.FPUParams" title="coreblocks.func_blocks.fu.fpu.fpu_common.FPUParams"><span class="pre">FPUParams</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.close_path.ClosePathModule.__init__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-coreblocks.func_blocks.fu.fpu.far_path">
<span id="coreblocks-func-blocks-fu-fpu-far-path-module"></span><h2>coreblocks.func_blocks.fu.fpu.far_path module<a class="headerlink" href="#module-coreblocks.func_blocks.fu.fpu.far_path" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.far_path.FarPathMethodLayout">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">coreblocks.func_blocks.fu.fpu.far_path.</span></span><span class="sig-name descname"><span class="pre">FarPathMethodLayout</span></span><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.far_path.FarPathMethodLayout" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Far path module layouts for methods</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpu_params; FPUParams</strong></dt><dd><p>FPU parameters</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.far_path.FarPathMethodLayout.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpu_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#coreblocks.func_blocks.fu.fpu.fpu_common.FPUParams" title="coreblocks.func_blocks.fu.fpu.fpu_common.FPUParams"><span class="pre">FPUParams</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.far_path.FarPathMethodLayout.__init__" title="Permalink to this definition"></a></dt>
<dd><p>r_sign - result sign
sig_a - significand of first operand (for effective subtraction in two’s complement form)
sig_b - significand of second operand (for effective subtraction in two’s complement form)
exp - exponent of result before shift
sub_op - effective operation. 1 for subtraction 0 for addition
rounding_mode - rounding mode
guard_bit - guard bit (pth bit of second significand where p is precision)
round_bit - round bit ((p+1)th bit of second significand where p is precision)
sticky_bit - sticky_bit
(OR of all bits with index &gt;=p of second significand where p is precision)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.far_path.FarPathModule">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">coreblocks.func_blocks.fu.fpu.far_path.</span></span><span class="sig-name descname"><span class="pre">FarPathModule</span></span><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.far_path.FarPathModule" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Elaboratable</span></code></p>
<p>Far Path module
Based on: <a class="reference external" href="https://userpages.cs.umbc.edu/phatak/645/supl/lza/lza-survey-arith01.pdf">https://userpages.cs.umbc.edu/phatak/645/supl/lza/lza-survey-arith01.pdf</a>.
This module implements far path of adder/subtractor.
It performs subtraction for operands whose exponent differs by more than 1 and addition
for all combinations of operands. Besides addition it also performs rounding at the same time
as addition using two adders (one producing a+b and second one producing a+b+1). The correct
output is chosen by flags that differ for each rounding mode. To deal with certain
complication that may arise during addition in certain rounding modes the input of second
may be either input operand or (a &amp; b)&lt;&lt;1 and (a^b). This allows second adder to compute
a+b+2 in special cases that are better explained in paper linked above.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpu_params: FPUParams</strong></dt><dd><p>FPU rounding module parameters</p>
</dd>
</dl>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>far_path_request: Method</strong></dt><dd><p>Transactional method for initiating far path computation.
Takes ‘far_path_in_layout’ as argument.
Returns result as ‘far_path_out_layout’.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.far_path.FarPathModule.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpu_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#coreblocks.func_blocks.fu.fpu.fpu_common.FPUParams" title="coreblocks.func_blocks.fu.fpu.fpu_common.FPUParams"><span class="pre">FPUParams</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.far_path.FarPathModule.__init__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-coreblocks.func_blocks.fu.fpu.fpu_common">
<span id="coreblocks-func-blocks-fu-fpu-fpu-common-module"></span><h2>coreblocks.func_blocks.fu.fpu.fpu_common module<a class="headerlink" href="#module-coreblocks.func_blocks.fu.fpu.fpu_common" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.fpu_common.Errors">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">coreblocks.func_blocks.fu.fpu.fpu_common.</span></span><span class="sig-name descname"><span class="pre">Errors</span></span><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.fpu_common.Errors" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.IntFlag" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntFlag</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.fpu_common.Errors.DIVISION_BY_ZERO">
<span class="sig-name descname"><span class="pre">DIVISION_BY_ZERO</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.fpu_common.Errors.DIVISION_BY_ZERO" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.fpu_common.Errors.INEXACT">
<span class="sig-name descname"><span class="pre">INEXACT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">16</span></em><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.fpu_common.Errors.INEXACT" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.fpu_common.Errors.INVALID_OPERATION">
<span class="sig-name descname"><span class="pre">INVALID_OPERATION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.fpu_common.Errors.INVALID_OPERATION" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.fpu_common.Errors.OVERFLOW">
<span class="sig-name descname"><span class="pre">OVERFLOW</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4</span></em><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.fpu_common.Errors.OVERFLOW" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.fpu_common.Errors.UNDERFLOW">
<span class="sig-name descname"><span class="pre">UNDERFLOW</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">8</span></em><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.fpu_common.Errors.UNDERFLOW" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.fpu_common.Errors.__new__">
<span class="sig-name descname"><span class="pre">__new__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.fpu_common.Errors.__new__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.fpu_common.FPUParams">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">coreblocks.func_blocks.fu.fpu.fpu_common.</span></span><span class="sig-name descname"><span class="pre">FPUParams</span></span><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.fpu_common.FPUParams" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>FPU parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>sig_width: int</strong></dt><dd><p>Width of significand, including implicit bit</p>
</dd>
<dt><strong>exp_width: int</strong></dt><dd><p>Width of exponent</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.fpu_common.FPUParams.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig_width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">24</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exp_width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">8</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.fpu_common.FPUParams.__init__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.fpu_common.RoundingModes">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">coreblocks.func_blocks.fu.fpu.fpu_common.</span></span><span class="sig-name descname"><span class="pre">RoundingModes</span></span><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.fpu_common.RoundingModes" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.Enum" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.fpu_common.RoundingModes.ROUND_DOWN">
<span class="sig-name descname"><span class="pre">ROUND_DOWN</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.fpu_common.RoundingModes.ROUND_DOWN" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.fpu_common.RoundingModes.ROUND_NEAREST_AWAY">
<span class="sig-name descname"><span class="pre">ROUND_NEAREST_AWAY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4</span></em><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.fpu_common.RoundingModes.ROUND_NEAREST_AWAY" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.fpu_common.RoundingModes.ROUND_NEAREST_EVEN">
<span class="sig-name descname"><span class="pre">ROUND_NEAREST_EVEN</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.fpu_common.RoundingModes.ROUND_NEAREST_EVEN" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.fpu_common.RoundingModes.ROUND_UP">
<span class="sig-name descname"><span class="pre">ROUND_UP</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.fpu_common.RoundingModes.ROUND_UP" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.fpu_common.RoundingModes.ROUND_ZERO">
<span class="sig-name descname"><span class="pre">ROUND_ZERO</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.fpu_common.RoundingModes.ROUND_ZERO" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.fpu_common.create_data_layout">
<span class="sig-prename descclassname"><span class="pre">coreblocks.func_blocks.fu.fpu.fpu_common.</span></span><span class="sig-name descname"><span class="pre">create_data_layout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#coreblocks.func_blocks.fu.fpu.fpu_common.FPUParams" title="coreblocks.func_blocks.fu.fpu.fpu_common.FPUParams"><span class="pre">FPUParams</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.fpu_common.create_data_layout" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-coreblocks.func_blocks.fu.fpu.fpu_error_module">
<span id="coreblocks-func-blocks-fu-fpu-fpu-error-module-module"></span><h2>coreblocks.func_blocks.fu.fpu.fpu_error_module module<a class="headerlink" href="#module-coreblocks.func_blocks.fu.fpu.fpu_error_module" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.fpu_error_module.FPUErrorMethodLayout">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">coreblocks.func_blocks.fu.fpu.fpu_error_module.</span></span><span class="sig-name descname"><span class="pre">FPUErrorMethodLayout</span></span><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.fpu_error_module.FPUErrorMethodLayout" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>FPU error checking module layouts for methods</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpu_params: FPUParams</strong></dt><dd><p>FPU parameters</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.fpu_error_module.FPUErrorMethodLayout.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpu_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#coreblocks.func_blocks.fu.fpu.fpu_common.FPUParams" title="coreblocks.func_blocks.fu.fpu.fpu_common.FPUParams"><span class="pre">FPUParams</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.fpu_error_module.FPUErrorMethodLayout.__init__" title="Permalink to this definition"></a></dt>
<dd><p>input_inf is a flag that comes from previous stage.
Its purpose is to indicate that the infinity on input
is a result of infinity arithmetic and not a result of overflow</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.fpu_error_module.FPUErrorModule">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">coreblocks.func_blocks.fu.fpu.fpu_error_module.</span></span><span class="sig-name descname"><span class="pre">FPUErrorModule</span></span><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.fpu_error_module.FPUErrorModule" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Elaboratable</span></code></p>
<p>FPU error checking module</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpu_params: FPUParams</strong></dt><dd><p>FPU rounding module parameters</p>
</dd>
</dl>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>error_checking_request: Method</strong></dt><dd><p>Transactional method for initiating error checking of a floating point number.
Takes ‘error_in_layout’ as argument
Returns final number and errors as ‘error_out_layout’</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.fpu_error_module.FPUErrorModule.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpu_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#coreblocks.func_blocks.fu.fpu.fpu_common.FPUParams" title="coreblocks.func_blocks.fu.fpu.fpu_common.FPUParams"><span class="pre">FPUParams</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.fpu_error_module.FPUErrorModule.__init__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-coreblocks.func_blocks.fu.fpu.fpu_rounding_module">
<span id="coreblocks-func-blocks-fu-fpu-fpu-rounding-module-module"></span><h2>coreblocks.func_blocks.fu.fpu.fpu_rounding_module module<a class="headerlink" href="#module-coreblocks.func_blocks.fu.fpu.fpu_rounding_module" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.fpu_rounding_module.FPURoudningMethodLayout">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">coreblocks.func_blocks.fu.fpu.fpu_rounding_module.</span></span><span class="sig-name descname"><span class="pre">FPURoudningMethodLayout</span></span><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.fpu_rounding_module.FPURoudningMethodLayout" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>FPU Rounding module layouts for methods</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpu_params: FPUParams</strong></dt><dd><p>FPU parameters</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.fpu_rounding_module.FPURoudningMethodLayout.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpu_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#coreblocks.func_blocks.fu.fpu.fpu_common.FPUParams" title="coreblocks.func_blocks.fu.fpu.fpu_common.FPUParams"><span class="pre">FPUParams</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.fpu_rounding_module.FPURoudningMethodLayout.__init__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.fpu_rounding_module.FPURounding">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">coreblocks.func_blocks.fu.fpu.fpu_rounding_module.</span></span><span class="sig-name descname"><span class="pre">FPURounding</span></span><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.fpu_rounding_module.FPURounding" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Elaboratable</span></code></p>
<p>FPU Rounding module</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpu_params: FPUParams</strong></dt><dd><p>FPU parameters</p>
</dd>
</dl>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>rounding_request: Method</strong></dt><dd><p>Transactional method for initiating rounding of a floating point number.
Takes ‘rounding_in_layout’ as argument
Returns rounded number and errors as ‘rounding_out_layout’</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.fpu_rounding_module.FPURounding.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpu_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#coreblocks.func_blocks.fu.fpu.fpu_common.FPUParams" title="coreblocks.func_blocks.fu.fpu.fpu_common.FPUParams"><span class="pre">FPUParams</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.fpu_rounding_module.FPURounding.__init__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-coreblocks.func_blocks.fu.fpu.lza">
<span id="coreblocks-func-blocks-fu-fpu-lza-module"></span><h2>coreblocks.func_blocks.fu.fpu.lza module<a class="headerlink" href="#module-coreblocks.func_blocks.fu.fpu.lza" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.lza.LZAMethodLayout">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">coreblocks.func_blocks.fu.fpu.lza.</span></span><span class="sig-name descname"><span class="pre">LZAMethodLayout</span></span><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.lza.LZAMethodLayout" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>LZA module layouts for methods</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpu_params: FPUParams</strong></dt><dd><p>FPU parameters</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.lza.LZAMethodLayout.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpu_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#coreblocks.func_blocks.fu.fpu.fpu_common.FPUParams" title="coreblocks.func_blocks.fu.fpu.fpu_common.FPUParams"><span class="pre">FPUParams</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.lza.LZAMethodLayout.__init__" title="Permalink to this definition"></a></dt>
<dd><p>sig_a - significand of a
sig_b - significand of b
carry - indicates if we want to predict result of a+b or a+b+1
shift_amount - position to shift needed to normalize number
is_zero - indicates if result is zero</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.lza.LZAModule">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">coreblocks.func_blocks.fu.fpu.lza.</span></span><span class="sig-name descname"><span class="pre">LZAModule</span></span><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.lza.LZAModule" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Elaboratable</span></code></p>
<p>LZA module
Based on: <a class="reference external" href="https://userpages.cs.umbc.edu/phatak/645/supl/lza/lza-survey-arith01.pdf">https://userpages.cs.umbc.edu/phatak/645/supl/lza/lza-survey-arith01.pdf</a>
After performing subtracion, we may have to normalize floating point numbers and
For that, we have to know the number of leading zeros.
The most basic approach includes using LZC (leading zero counter) after subtracion,
a more advanced approach includes using LZA (Leading Zero Anticipator) to predict the number of
leading zeroes. It is worth noting that this LZA module works under assumptions that
significands are in two’s complement and that before complementation sig_a was greater
or equal to sig_b. Another thing worth noting is that LZA works with error = 1.
That means that if ‘n’ is the result of the LZA module, in reality, to normalize
number we may have to shift left by ‘n’ or ‘n+1’. There are few techniques of
dealing with that error like specially designed shifters or predicting the error
but the most basic approach is to just use multiplexer after shifter to perform
one more shift left if necessary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpu_params: FPUParams</strong></dt><dd><p>FPU rounding module parameters</p>
</dd>
</dl>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>predict_request: Method</strong></dt><dd><p>Transactional method for initiating leading zeros prediction.
Takes ‘predict_in_layout’ as argument
Returns shift amount as ‘predict_out_layout’</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="coreblocks.func_blocks.fu.fpu.lza.LZAModule.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpu_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#coreblocks.func_blocks.fu.fpu.fpu_common.FPUParams" title="coreblocks.func_blocks.fu.fpu.fpu_common.FPUParams"><span class="pre">FPUParams</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coreblocks.func_blocks.fu.fpu.lza.LZAModule.__init__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-coreblocks.func_blocks.fu.fpu">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-coreblocks.func_blocks.fu.fpu" title="Permalink to this heading"></a></h2>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="coreblocks.func_blocks.fu.html" class="btn btn-neutral float-left" title="coreblocks.func_blocks.fu package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="coreblocks.func_blocks.fu.lsu.html" class="btn btn-neutral float-right" title="coreblocks.func_blocks.fu.lsu package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Kuźnia Rdzeni, 2025.
      <span class="lastupdated">Last updated on 11:43 2025-05-30.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>