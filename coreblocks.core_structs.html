<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>coreblocks.core_structs package &mdash; Coreblocks documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="https://unpkg.com/mermaid@9.4.0/dist/mermaid.min.js"></script>
        <script>mermaid.initialize({startOnLoad:true});</script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="coreblocks.frontend package" href="coreblocks.frontend.html" />
    <link rel="prev" title="coreblocks.cache package" href="coreblocks.cache.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Coreblocks documentation
            <img src="_static/logo-banner.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="home.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="assumptions.html">List of assumptions made during development</a></li>
<li class="toctree-l1"><a class="reference internal" href="development-environment.html">Development environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="scheduler/overview.html">Scheduler overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="shared-structs/implementation/rs-impl.html">Proposition of Reservation Station implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="shared-structs/rs.html">Reservation Station</a></li>
<li class="toctree-l1"><a class="reference internal" href="current-graph.html">Full transaction-method graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="problem-checklist.html">Problem checklist</a></li>
<li class="toctree-l1"><a class="reference internal" href="synthesis/synthesis.html">Core verification</a></li>
<li class="toctree-l1"><a class="reference internal" href="components/icache.html">Instruction Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="miscellany/exceptions-summary.html">Summary of papers about interrupts</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Coreblocks documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="api.html">API</a> &raquo;</li>
          <li><a href="coreblocks.html">coreblocks package</a> &raquo;</li>
      <li>coreblocks.core_structs package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/coreblocks.core_structs.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="coreblocks-core-structs-package">
<h1>coreblocks.core_structs package<a class="headerlink" href="#coreblocks-core-structs-package" title="Permalink to this heading"></a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading"></a></h2>
</div>
<div class="section" id="module-coreblocks.core_structs.crat">
<span id="coreblocks-core-structs-crat-module"></span><h2>coreblocks.core_structs.crat module<a class="headerlink" href="#module-coreblocks.core_structs.crat" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="coreblocks.core_structs.crat.CheckpointRAT">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">coreblocks.core_structs.crat.</span></span><span class="sig-name descname"><span class="pre">CheckpointRAT</span></span><a class="headerlink" href="#coreblocks.core_structs.crat.CheckpointRAT" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Elaboratable</span></code></p>
<p>Checkpoint RAT
Register Alias Table that supports saving (checkpointing) and rolling back its state.
It is an replacement of plain Frontend-RAT (FRAT).</p>
<p>It contains two pipelined stages <cite>tag</cite> and <cite>rename</cite>, placed in <cite>Scheduler</cite>. See attributes description for details.
<cite>tag</cite> for instruction must be executed at least one cycle before <cite>rename</cite>.</p>
<p>There are two resources allocated: “virtual” speculation tags, which are monotonic, issued and freed in-order,
used to track if instructions are on valid speculation path in the core;
and checkpoints, which are physical saved FRAT states, used for rollbacks.
Checkpoints are freed immediately while tags are only marked as non-active, but still allocated until free in
<cite>Retirement</cite>. Checkpoints are tied to some tags.</p>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>free_tag: Method</strong></dt><dd><p>Free a tag that is no longer referenced in the core.
Associated checkpoints are freed too.
This method accepts no arguments, because all tags must be freed in-order, so call means freeing
oldest issued tag.</p>
</dd>
<dt><strong>get_active_tags: Method</strong></dt><dd><p>Gets bit array of tags that are currently active.
If bit is set it means that a tag is on a valid
speculation path.</p>
</dd>
<dt><strong>tag: Method</strong></dt><dd><p>Tag stage of CheckpointRAT. Issues instruction speculation tags.
It needs rollback_tag information from core <cite>Frontend</cite>, that identifies first instruction fetched after
rollback and fetch redirect. Information if checkpoint should be created after given instruction is expected
to be provided from previous stage.
It manages allocating new tags, scheduler flushing, information for unlocking FRAT
and stalling the pipeline in case FRAT is not yet restored.</p>
</dd>
<dt><strong>rename: Method</strong></dt><dd><p>Rename stage of CheckpointRAT. Works like FRAT rename.
Renames source registers and updates destination register mapping on valid tagged instructions.
It is responsible for saving checkpoints after instruction (with commit_checkpoint flag) rename.</p>
</dd>
<dt><strong>flush_restore: Method</strong></dt><dd><p>Subset of <cite>rename</cite>. Used for restoring RAT state from Retirement on hard flushes.
Blocks until restores are safe to be made. <cite>rollback</cite> must not be called after first restore.</p>
</dd>
<dt><strong>rollback: Method</strong></dt><dd><p>Rollback listener automatically registered to <cite>RollbackKey</cite>.
Invalidates tags, frees checkpoints, initiates FRAT restore and Scheduler flushing.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="coreblocks.core_structs.crat.CheckpointRAT.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gen_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="coreblocks.params.html#coreblocks.params.genparams.GenParams" title="coreblocks.params.genparams.GenParams"><span class="pre">GenParams</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coreblocks.core_structs.crat.CheckpointRAT.__init__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-coreblocks.core_structs.rat">
<span id="coreblocks-core-structs-rat-module"></span><h2>coreblocks.core_structs.rat module<a class="headerlink" href="#module-coreblocks.core_structs.rat" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="coreblocks.core_structs.rat.FRAT">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">coreblocks.core_structs.rat.</span></span><span class="sig-name descname"><span class="pre">FRAT</span></span><a class="headerlink" href="#coreblocks.core_structs.rat.FRAT" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Elaboratable</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="coreblocks.core_structs.rat.FRAT.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gen_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="coreblocks.params.html#coreblocks.params.genparams.GenParams" title="coreblocks.params.genparams.GenParams"><span class="pre">GenParams</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coreblocks.core_structs.rat.FRAT.__init__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="coreblocks.core_structs.rat.RRAT">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">coreblocks.core_structs.rat.</span></span><span class="sig-name descname"><span class="pre">RRAT</span></span><a class="headerlink" href="#coreblocks.core_structs.rat.RRAT" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Elaboratable</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="coreblocks.core_structs.rat.RRAT.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gen_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="coreblocks.params.html#coreblocks.params.genparams.GenParams" title="coreblocks.params.genparams.GenParams"><span class="pre">GenParams</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coreblocks.core_structs.rat.RRAT.__init__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-coreblocks.core_structs.rf">
<span id="coreblocks-core-structs-rf-module"></span><h2>coreblocks.core_structs.rf module<a class="headerlink" href="#module-coreblocks.core_structs.rf" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="coreblocks.core_structs.rf.RegisterFile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">coreblocks.core_structs.rf.</span></span><span class="sig-name descname"><span class="pre">RegisterFile</span></span><a class="headerlink" href="#coreblocks.core_structs.rf.RegisterFile" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Elaboratable</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="coreblocks.core_structs.rf.RegisterFile.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gen_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="coreblocks.params.html#coreblocks.params.genparams.GenParams" title="coreblocks.params.genparams.GenParams"><span class="pre">GenParams</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_ports</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_ports</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">free_ports</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#coreblocks.core_structs.rf.RegisterFile.__init__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-coreblocks.core_structs.rob">
<span id="coreblocks-core-structs-rob-module"></span><h2>coreblocks.core_structs.rob module<a class="headerlink" href="#module-coreblocks.core_structs.rob" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="coreblocks.core_structs.rob.ReorderBuffer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">coreblocks.core_structs.rob.</span></span><span class="sig-name descname"><span class="pre">ReorderBuffer</span></span><a class="headerlink" href="#coreblocks.core_structs.rob.ReorderBuffer" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Elaboratable</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="coreblocks.core_structs.rob.ReorderBuffer.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gen_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="coreblocks.params.html#coreblocks.params.genparams.GenParams" title="coreblocks.params.genparams.GenParams"><span class="pre">GenParams</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#coreblocks.core_structs.rob.ReorderBuffer.__init__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-coreblocks.core_structs">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-coreblocks.core_structs" title="Permalink to this heading"></a></h2>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="coreblocks.cache.html" class="btn btn-neutral float-left" title="coreblocks.cache package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="coreblocks.frontend.html" class="btn btn-neutral float-right" title="coreblocks.frontend package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Kuźnia Rdzeni, 2025.
      <span class="lastupdated">Last updated on 11:16 2025-07-02.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>