<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Instruction Cache &mdash; Coreblocks documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="https://unpkg.com/mermaid@9.4.0/dist/mermaid.min.js"></script>
        <script>mermaid.initialize({startOnLoad:true});</script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Summary of papers about interrupts" href="../miscellany/exceptions-summary.html" />
    <link rel="prev" title="Core verification" href="../synthesis/synthesis.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Coreblocks documentation
            <img src="../_static/logo-banner.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../home.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assumptions.html">List of assumptions made during development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development-environment.html">Development environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scheduler/overview.html">Scheduler overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../shared-structs/implementation/rs-impl.html">Proposition of Reservation Station implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../shared-structs/rs.html">Reservation Station</a></li>
<li class="toctree-l1"><a class="reference internal" href="../current-graph.html">Full transaction-method graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../problem-checklist.html">Problem checklist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../synthesis/synthesis.html">Core verification</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Instruction Cache</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#interface">Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="#assumptions">Assumptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#address-mapping-example">Address mapping example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../miscellany/exceptions-summary.html">Summary of papers about interrupts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Coreblocks documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Instruction Cache</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/components/icache.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="instruction-cache">
<h1>Instruction Cache<a class="headerlink" href="#instruction-cache" title="Permalink to this heading"></a></h1>
<div class="section" id="interface">
<h2>Interface<a class="headerlink" href="#interface" title="Permalink to this heading"></a></h2>
<p>The instruction cache should expose three methods:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">issue_req</span></code>: This method issues an instruction lookup request.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">accept_resp</span></code>: This method returns the result of the lookup request.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">flush</span></code>: This method flushes the entire cache.</p></li>
</ol>
</div>
<div class="section" id="assumptions">
<h2>Assumptions<a class="headerlink" href="#assumptions" title="Permalink to this heading"></a></h2>
<p>The instruction cache operates under the following assumptions:</p>
<ol class="arabic simple">
<li><p>Requested addresses are always multiples of 4 bytes. The RISC-V specification requires instruction addresses to be 4-byte aligned, but the C extension introduces 16-bit instructions that relax this requirement. The fetch unit should handle this case.</p></li>
<li><p>Requests are fully pipelined and processed in order. As a result, the <code class="docutils literal notranslate"><span class="pre">issue_req</span></code> method can be invoked independently of the <code class="docutils literal notranslate"><span class="pre">accept_res</span></code> method. If there is no space in the pipeline for another request, <code class="docutils literal notranslate"><span class="pre">issue_req</span></code> will simply block.</p></li>
<li><p>The request latency is at least one cycle. If a cache miss occurs, the latency can be arbitrarily long.</p></li>
<li><p>Flushing the cache ensures that any requests issued after the flush will be refetched. However, there is no such guarantee for requests that have already been issued but are still waiting to be accepted.</p></li>
<li><p>Information regarding fetch errors is not cached. This means that if an error occurs during line refill, the subsequent access to that line will trigger another refill, which will most likely result in another error.</p></li>
</ol>
</div>
<div class="section" id="address-mapping-example">
<h2>Address mapping example<a class="headerlink" href="#address-mapping-example" title="Permalink to this heading"></a></h2>
<p>For 32 bit address line, 128 sets and the cache line size equal to 32 bytes.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="mi">31</span>          <span class="mi">16</span> <span class="mi">15</span> <span class="mi">14</span> <span class="mi">13</span> <span class="mi">12</span> <span class="mi">11</span> <span class="mi">10</span> <span class="mi">09</span> <span class="mi">08</span> <span class="mi">07</span> <span class="mi">06</span> <span class="mi">05</span> <span class="mi">04</span> <span class="mi">03</span> <span class="mi">02</span> <span class="mi">01</span> <span class="mi">00</span>
<span class="o">|--------------|</span>  <span class="o">|</span>  <span class="o">|</span>  <span class="o">|</span>  <span class="o">|</span>  <span class="o">|</span>  <span class="o">|</span>  <span class="o">|</span>  <span class="o">|</span>  <span class="o">|</span>  <span class="o">|</span>  <span class="o">|</span>  <span class="o">|</span>  <span class="o">|</span>  <span class="o">|</span>  <span class="o">|</span>  <span class="o">|</span>
<span class="o">+--------------------------+--------------------+--------------+</span>
<span class="o">|</span> <span class="n">Tag</span>                      <span class="o">|</span> <span class="n">Index</span>              <span class="o">|</span> <span class="n">Offset</span>       <span class="o">|</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../synthesis/synthesis.html" class="btn btn-neutral float-left" title="Core verification" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../miscellany/exceptions-summary.html" class="btn btn-neutral float-right" title="Summary of papers about interrupts" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Kuźnia Rdzeni, 2025.
      <span class="lastupdated">Last updated on 19:16 2025-09-20.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>